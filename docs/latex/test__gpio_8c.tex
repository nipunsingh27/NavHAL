\doxysection{tests/test\+\_\+gpio.c File Reference}
\hypertarget{test__gpio_8c}{}\label{test__gpio_8c}\index{tests/test\_gpio.c@{tests/test\_gpio.c}}


GPIO unit test implementation for NAVHAL.  


{\ttfamily \#include "{}core/cortex-\/m4/gpio\+\_\+reg.\+h"{}}\newline
{\ttfamily \#include "{}navhal.\+h"{}}\newline
{\ttfamily \#include "{}unity.\+h"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
Include dependency graph for test\+\_\+gpio.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{test__gpio_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{test__gpio_8c_a96aff19a3c64fdb17b0c2f69bdaad460}{CORTEX\+\_\+\+M4}}
\item 
\#define \mbox{\hyperlink{test__gpio_8c_afab1f0c73cf3fdda9fa140cfa7c04a3d}{UNITY\+\_\+\+OUTPUT\+\_\+\+COLOR}}
\item 
\#define \mbox{\hyperlink{test__gpio_8c_a419ab99c97e9144fee4f06e785a7e5e5}{TEST\+\_\+\+PIN}}~\mbox{\hyperlink{gpio__types_8h_a6222e804e6f2dd326ec84c1ba7ff04e6a8a6902fbbaf8f0eb78f1b2bffa84bc6e}{GPIO\+\_\+\+PC09}}
\begin{DoxyCompactList}\small\item\em Test pin used for all GPIO tests (Port C, Pin 9) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{test__gpio_8c_ace305a8fa6135cc7c971242bd1871f12}{TEST\+\_\+\+AF}}~\mbox{\hyperlink{gpio__types_8h_a22b67ee171c3baed3b2d4c9eeb3c6c44a9181312b0d34a94f2105025c7cc2d7c1}{GPIO\+\_\+\+AF07}}
\begin{DoxyCompactList}\small\item\em Alternate function used for testing (AF7) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{test__gpio_8c_a4e47f410d193d505207771bb06849b51}{test\+\_\+hal\+\_\+gpio\+\_\+setmode}} (void)
\begin{DoxyCompactList}\small\item\em Test GPIO mode configuration. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{test__gpio_8c_a7cda3f7a0ebad471c005fc76b632ce15}{test\+\_\+hal\+\_\+gpio\+\_\+getmode}} (void)
\begin{DoxyCompactList}\small\item\em Test GPIO mode reading. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{test__gpio_8c_a9ea8485c4c361c83f6181ab1daf993e9}{test\+\_\+hal\+\_\+gpio\+\_\+digitalwrite\+\_\+sets\+\_\+pin\+\_\+high}} (void)
\begin{DoxyCompactList}\small\item\em Test digital write (high) operation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{test__gpio_8c_a4da2ffea6b748bfe8c603859e96e1d2a}{test\+\_\+hal\+\_\+gpio\+\_\+digitalwrite\+\_\+sets\+\_\+pin\+\_\+low}} (void)
\begin{DoxyCompactList}\small\item\em Test digital write (low) operation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{test__gpio_8c_a196e6d3eb8908c99f605c38857b10068}{test\+\_\+gpio\+\_\+set\+\_\+alternate\+\_\+function}} (void)
\begin{DoxyCompactList}\small\item\em Test alternate function configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
GPIO unit test implementation for NAVHAL. 

This file implements the test cases for verifying GPIO functionality in the NAVHAL hardware abstraction layer. It tests both the high-\/level HAL interface and the underlying register-\/level configurations.

Tests cover\+:
\begin{DoxyItemize}
\item Mode configuration (input/output/alternate)
\item Digital write operations (high/low)
\item Alternate function setup
\item Register-\/level verification of all operations
\end{DoxyItemize}

\begin{DoxyNote}{Note}
Uses Unity test framework for assertions 

Tests use PC9 (TEST\+\_\+\+PIN) as the test pin with AF7 (TEST\+\_\+\+AF) for AF tests 
\end{DoxyNote}
\begin{DoxyCopyright}{Copyright}
Â© NAVROBOTEC PVT. LTD. 
\end{DoxyCopyright}


\label{doc-define-members}
\Hypertarget{test__gpio_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{test__gpio_8c_a96aff19a3c64fdb17b0c2f69bdaad460}\index{test\_gpio.c@{test\_gpio.c}!CORTEX\_M4@{CORTEX\_M4}}
\index{CORTEX\_M4@{CORTEX\_M4}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{CORTEX\_M4}{CORTEX\_M4}}
{\footnotesize\ttfamily \label{test__gpio_8c_a96aff19a3c64fdb17b0c2f69bdaad460} 
\#define CORTEX\+\_\+\+M4}

\Hypertarget{test__gpio_8c_ace305a8fa6135cc7c971242bd1871f12}\index{test\_gpio.c@{test\_gpio.c}!TEST\_AF@{TEST\_AF}}
\index{TEST\_AF@{TEST\_AF}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{TEST\_AF}{TEST\_AF}}
{\footnotesize\ttfamily \label{test__gpio_8c_ace305a8fa6135cc7c971242bd1871f12} 
\#define TEST\+\_\+\+AF~\mbox{\hyperlink{gpio__types_8h_a22b67ee171c3baed3b2d4c9eeb3c6c44a9181312b0d34a94f2105025c7cc2d7c1}{GPIO\+\_\+\+AF07}}}



Alternate function used for testing (AF7) 

\Hypertarget{test__gpio_8c_a419ab99c97e9144fee4f06e785a7e5e5}\index{test\_gpio.c@{test\_gpio.c}!TEST\_PIN@{TEST\_PIN}}
\index{TEST\_PIN@{TEST\_PIN}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{TEST\_PIN}{TEST\_PIN}}
{\footnotesize\ttfamily \label{test__gpio_8c_a419ab99c97e9144fee4f06e785a7e5e5} 
\#define TEST\+\_\+\+PIN~\mbox{\hyperlink{gpio__types_8h_a6222e804e6f2dd326ec84c1ba7ff04e6a8a6902fbbaf8f0eb78f1b2bffa84bc6e}{GPIO\+\_\+\+PC09}}}



Test pin used for all GPIO tests (Port C, Pin 9) 

\Hypertarget{test__gpio_8c_afab1f0c73cf3fdda9fa140cfa7c04a3d}\index{test\_gpio.c@{test\_gpio.c}!UNITY\_OUTPUT\_COLOR@{UNITY\_OUTPUT\_COLOR}}
\index{UNITY\_OUTPUT\_COLOR@{UNITY\_OUTPUT\_COLOR}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{UNITY\_OUTPUT\_COLOR}{UNITY\_OUTPUT\_COLOR}}
{\footnotesize\ttfamily \label{test__gpio_8c_afab1f0c73cf3fdda9fa140cfa7c04a3d} 
\#define UNITY\+\_\+\+OUTPUT\+\_\+\+COLOR}



\label{doc-func-members}
\Hypertarget{test__gpio_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{test__gpio_8c_a196e6d3eb8908c99f605c38857b10068}\index{test\_gpio.c@{test\_gpio.c}!test\_gpio\_set\_alternate\_function@{test\_gpio\_set\_alternate\_function}}
\index{test\_gpio\_set\_alternate\_function@{test\_gpio\_set\_alternate\_function}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{test\_gpio\_set\_alternate\_function()}{test\_gpio\_set\_alternate\_function()}}
{\footnotesize\ttfamily \label{test__gpio_8c_a196e6d3eb8908c99f605c38857b10068} 
void test\+\_\+gpio\+\_\+set\+\_\+alternate\+\_\+function (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Test alternate function configuration. 

Verifies that \doxylink{gpio_8h_a07aab29e77970fa617d8ea0d1922e964}{hal\+\_\+gpio\+\_\+set\+\_\+alternate\+\_\+function()}\+:
\begin{DoxyEnumerate}
\item Correctly sets the alternate function number
\item Handles both AFRL (pins 0-\/7) and AFRH (pins 8-\/15) registers
\end{DoxyEnumerate}

Test sequence\+:
\begin{DoxyEnumerate}
\item Configure pin for alternate function
\item Verify correct AF number in appropriate register (AFRL/\+AFRH) 
\end{DoxyEnumerate}\Hypertarget{test__gpio_8c_a9ea8485c4c361c83f6181ab1daf993e9}\index{test\_gpio.c@{test\_gpio.c}!test\_hal\_gpio\_digitalwrite\_sets\_pin\_high@{test\_hal\_gpio\_digitalwrite\_sets\_pin\_high}}
\index{test\_hal\_gpio\_digitalwrite\_sets\_pin\_high@{test\_hal\_gpio\_digitalwrite\_sets\_pin\_high}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{test\_hal\_gpio\_digitalwrite\_sets\_pin\_high()}{test\_hal\_gpio\_digitalwrite\_sets\_pin\_high()}}
{\footnotesize\ttfamily \label{test__gpio_8c_a9ea8485c4c361c83f6181ab1daf993e9} 
void test\+\_\+hal\+\_\+gpio\+\_\+digitalwrite\+\_\+sets\+\_\+pin\+\_\+high (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Test digital write (high) operation. 

Test digital write high.

Verifies that \doxylink{gpio_8h_aa64ac2161a52147ab5e91fe399126638}{hal\+\_\+gpio\+\_\+digitalwrite()} with GPIO\+\_\+\+HIGH\+:
\begin{DoxyEnumerate}
\item Sets the correct bit in the ODR register
\item Actually drives the pin high
\end{DoxyEnumerate}

Test sequence\+:
\begin{DoxyEnumerate}
\item Configure pin as output
\item Write high
\item Verify ODR register state 
\end{DoxyEnumerate}\Hypertarget{test__gpio_8c_a4da2ffea6b748bfe8c603859e96e1d2a}\index{test\_gpio.c@{test\_gpio.c}!test\_hal\_gpio\_digitalwrite\_sets\_pin\_low@{test\_hal\_gpio\_digitalwrite\_sets\_pin\_low}}
\index{test\_hal\_gpio\_digitalwrite\_sets\_pin\_low@{test\_hal\_gpio\_digitalwrite\_sets\_pin\_low}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{test\_hal\_gpio\_digitalwrite\_sets\_pin\_low()}{test\_hal\_gpio\_digitalwrite\_sets\_pin\_low()}}
{\footnotesize\ttfamily \label{test__gpio_8c_a4da2ffea6b748bfe8c603859e96e1d2a} 
void test\+\_\+hal\+\_\+gpio\+\_\+digitalwrite\+\_\+sets\+\_\+pin\+\_\+low (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Test digital write (low) operation. 

Test digital write low.

Verifies that \doxylink{gpio_8h_aa64ac2161a52147ab5e91fe399126638}{hal\+\_\+gpio\+\_\+digitalwrite()} with GPIO\+\_\+\+LOW\+:
\begin{DoxyEnumerate}
\item Clears the correct bit in the ODR register
\item Actually drives the pin low
\end{DoxyEnumerate}

Test sequence\+:
\begin{DoxyEnumerate}
\item Configure pin as output
\item Write low
\item Verify ODR register state 
\end{DoxyEnumerate}\Hypertarget{test__gpio_8c_a7cda3f7a0ebad471c005fc76b632ce15}\index{test\_gpio.c@{test\_gpio.c}!test\_hal\_gpio\_getmode@{test\_hal\_gpio\_getmode}}
\index{test\_hal\_gpio\_getmode@{test\_hal\_gpio\_getmode}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{test\_hal\_gpio\_getmode()}{test\_hal\_gpio\_getmode()}}
{\footnotesize\ttfamily \label{test__gpio_8c_a7cda3f7a0ebad471c005fc76b632ce15} 
void test\+\_\+hal\+\_\+gpio\+\_\+getmode (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Test GPIO mode reading. 

Verifies that \doxylink{gpio_8h_af5915e39ede16cf7d68b4dc1ee02b78a}{hal\+\_\+gpio\+\_\+getmode()} correctly returns\+:
\begin{DoxyEnumerate}
\item The current pin mode configuration
\item Matches the actual hardware register state
\end{DoxyEnumerate}

Test sequence\+:
\begin{DoxyEnumerate}
\item Configure pin as output
\item Compare getmode() return value with direct register read 
\end{DoxyEnumerate}\Hypertarget{test__gpio_8c_a4e47f410d193d505207771bb06849b51}\index{test\_gpio.c@{test\_gpio.c}!test\_hal\_gpio\_setmode@{test\_hal\_gpio\_setmode}}
\index{test\_hal\_gpio\_setmode@{test\_hal\_gpio\_setmode}!test\_gpio.c@{test\_gpio.c}}
\doxysubsubsection{\texorpdfstring{test\_hal\_gpio\_setmode()}{test\_hal\_gpio\_setmode()}}
{\footnotesize\ttfamily \label{test__gpio_8c_a4e47f410d193d505207771bb06849b51} 
void test\+\_\+hal\+\_\+gpio\+\_\+setmode (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Test GPIO mode configuration. 

Verifies that \doxylink{gpio_8h_ab063b362fb73bcb899a122e5188e7e32}{hal\+\_\+gpio\+\_\+setmode()} correctly configures\+:
\begin{DoxyEnumerate}
\item The pin mode in the MODER register
\item The pull-\/up/pull-\/down settings
\end{DoxyEnumerate}

Test sequence\+:
\begin{DoxyEnumerate}
\item Configure pin as output with no pull-\/up/pull-\/down
\item Verify MODER register bits are set correctly 
\end{DoxyEnumerate}