\doxysection{src/core/cortex-\/m4/clock/clock.c File Reference}
\hypertarget{clock_8c}{}\label{clock_8c}\index{src/core/cortex-\/m4/clock/clock.c@{src/core/cortex-\/m4/clock/clock.c}}


Cortex-\/\+M4 (STM32\+F4) Clock HAL Implementation.  


{\ttfamily \#include "{}core/cortex-\/m4/clock.\+h"{}}\newline
Include dependency graph for clock.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{clock_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{clock_8c_a0968882ff01fef583e6a8b7a97be51ea}{hal\+\_\+clock\+\_\+init}} (\mbox{\hyperlink{structhal__clock__config__t}{hal\+\_\+clock\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}cfg, \mbox{\hyperlink{structhal__pll__config__t}{hal\+\_\+pll\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{03__no__hal__uart__tx_2main_8c_adf1b524219e8781fa7542fa90dd09912}{pll\+\_\+cfg}})
\begin{DoxyCompactList}\small\item\em Initialize system clocks based on the provided configuration. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{clock_8c_a8cb04036cf65c8966865b42e975c4558}{hal\+\_\+clock\+\_\+get\+\_\+sysclk}} ()
\begin{DoxyCompactList}\small\item\em Get the current system clock frequency in Hz. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{clock_8c_a4aee4134f247ae939111a86a507db22e}{hal\+\_\+clock\+\_\+get\+\_\+ahbclk}} ()
\begin{DoxyCompactList}\small\item\em Get the current AHB clock frequency. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{clock_8c_ab27c3a810ff6f1418e7737a7ad308798}{hal\+\_\+clock\+\_\+get\+\_\+apb1clk}} ()
\begin{DoxyCompactList}\small\item\em Get the current APB1 clock frequency. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{clock_8c_a74e0e66e7168083925979b598b96cf7e}{hal\+\_\+clock\+\_\+get\+\_\+apb2clk}} ()
\begin{DoxyCompactList}\small\item\em Get the current APB2 clock frequency. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Cortex-\/\+M4 (STM32\+F4) Clock HAL Implementation. 

Provides functions to initialize and retrieve clock frequencies including SYSCLK, AHB, APB1, and APB2 clocks.

This implementation supports HSI, HSE, and PLL clock sources.

\begin{DoxyAuthor}{Author}
Ashutosh Vishwakarma 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025-\/07-\/21 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{clock_8c_a4aee4134f247ae939111a86a507db22e}\label{clock_8c_a4aee4134f247ae939111a86a507db22e} 
\index{clock.c@{clock.c}!hal\_clock\_get\_ahbclk@{hal\_clock\_get\_ahbclk}}
\index{hal\_clock\_get\_ahbclk@{hal\_clock\_get\_ahbclk}!clock.c@{clock.c}}
\doxysubsubsection{\texorpdfstring{hal\_clock\_get\_ahbclk()}{hal\_clock\_get\_ahbclk()}}
{\footnotesize\ttfamily uint32\+\_\+t hal\+\_\+clock\+\_\+get\+\_\+ahbclk (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the current AHB clock frequency. 

Get the current AHB bus clock frequency in Hz.

Calculated as SYSCLK divided by AHB prescaler.

\begin{DoxyReturn}{Returns}
AHB bus clock frequency in Hertz. 
\end{DoxyReturn}
\Hypertarget{clock_8c_ab27c3a810ff6f1418e7737a7ad308798}\label{clock_8c_ab27c3a810ff6f1418e7737a7ad308798} 
\index{clock.c@{clock.c}!hal\_clock\_get\_apb1clk@{hal\_clock\_get\_apb1clk}}
\index{hal\_clock\_get\_apb1clk@{hal\_clock\_get\_apb1clk}!clock.c@{clock.c}}
\doxysubsubsection{\texorpdfstring{hal\_clock\_get\_apb1clk()}{hal\_clock\_get\_apb1clk()}}
{\footnotesize\ttfamily uint32\+\_\+t hal\+\_\+clock\+\_\+get\+\_\+apb1clk (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the current APB1 clock frequency. 

Get the current APB1 bus clock frequency in Hz.

Calculated as SYSCLK divided by APB1 prescaler.

\begin{DoxyReturn}{Returns}
APB1 bus clock frequency in Hertz. 
\end{DoxyReturn}
\Hypertarget{clock_8c_a74e0e66e7168083925979b598b96cf7e}\label{clock_8c_a74e0e66e7168083925979b598b96cf7e} 
\index{clock.c@{clock.c}!hal\_clock\_get\_apb2clk@{hal\_clock\_get\_apb2clk}}
\index{hal\_clock\_get\_apb2clk@{hal\_clock\_get\_apb2clk}!clock.c@{clock.c}}
\doxysubsubsection{\texorpdfstring{hal\_clock\_get\_apb2clk()}{hal\_clock\_get\_apb2clk()}}
{\footnotesize\ttfamily uint32\+\_\+t hal\+\_\+clock\+\_\+get\+\_\+apb2clk (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the current APB2 clock frequency. 

Get the current APB2 bus clock frequency in Hz.

Calculated as SYSCLK divided by APB2 prescaler.

\begin{DoxyReturn}{Returns}
APB2 bus clock frequency in Hertz. 
\end{DoxyReturn}
\Hypertarget{clock_8c_a8cb04036cf65c8966865b42e975c4558}\label{clock_8c_a8cb04036cf65c8966865b42e975c4558} 
\index{clock.c@{clock.c}!hal\_clock\_get\_sysclk@{hal\_clock\_get\_sysclk}}
\index{hal\_clock\_get\_sysclk@{hal\_clock\_get\_sysclk}!clock.c@{clock.c}}
\doxysubsubsection{\texorpdfstring{hal\_clock\_get\_sysclk()}{hal\_clock\_get\_sysclk()}}
{\footnotesize\ttfamily uint32\+\_\+t hal\+\_\+clock\+\_\+get\+\_\+sysclk (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the current system clock frequency in Hz. 

Get the current system clock frequency (SYSCLK) in Hz.

Detects the current SYSCLK source and calculates frequency based on configured clock source and PLL parameters.

\begin{DoxyReturn}{Returns}
SYSCLK frequency in Hertz. 
\end{DoxyReturn}
\Hypertarget{clock_8c_a0968882ff01fef583e6a8b7a97be51ea}\label{clock_8c_a0968882ff01fef583e6a8b7a97be51ea} 
\index{clock.c@{clock.c}!hal\_clock\_init@{hal\_clock\_init}}
\index{hal\_clock\_init@{hal\_clock\_init}!clock.c@{clock.c}}
\doxysubsubsection{\texorpdfstring{hal\_clock\_init()}{hal\_clock\_init()}}
{\footnotesize\ttfamily void hal\+\_\+clock\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structhal__clock__config__t}{hal\+\_\+clock\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{cfg,  }\item[{\mbox{\hyperlink{structhal__pll__config__t}{hal\+\_\+pll\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pll\+\_\+cfg }\end{DoxyParamCaption})}



Initialize system clocks based on the provided configuration. 

Initialize system clock with given configuration.

Enables and waits for the selected clock source (HSI, HSE, or PLL). If PLL is selected, configures PLL parameters and switches system clock source to PLL output.


\begin{DoxyParams}{Parameters}
{\em cfg} & Pointer to clock configuration structure specifying source. \\
\hline
{\em pll\+\_\+cfg} & Pointer to PLL configuration structure (used if source is PLL). \\
\hline
\end{DoxyParams}
